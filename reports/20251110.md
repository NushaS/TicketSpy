# Team Report (Nov 10, 2025)

## Project meeting agenda
- Sharing progress & issues and plans & goals sections from status report
- Request status report feedback for improving during the upcoming week
- Review feedback from previous milestone (revised CI and documentation)
- Miscellaneous Q&A time (upcoming deadlines, sticking points, procedural questions, etc.)

# Team Goals

## 1. Last week's goals

- Front end: 
  - Make logged-in map page UI (2 days)
  - Make logged-in version of pop up when user clicks on a location, displays “report parking enforcement” “report ticket” “start parking session” “bookmark this spot” (1 day)
  - Make parking enforcement officer sighting confirmation pop up after clicking “report parking enforcement nearby” and then that needs to route to API endpoint for POST parking enforcement report (1 day)
  - Make confetti or help or confirmation or something show up after successful report of ticket and parking enforcement report (1 day)
  - Longer term goal: Make profile page UI
    - Notification settings (2-3 days)
    - Profile settings (2-3 days)

- Back end: 
  - Make log in page route to logged in map page after successful log in (2 days)
  - Finish API route for POST parking enforcement and link the button for it (on report parking enforcement popup) to that route (3 days, but somewhat dependent on front end)
  - Make parking sessions API route - “start parking session button” will route to POST parking session API route (2 days)
  - Update `user_id` foreign key to use the correct user table
  - Longer term goals: get notifications set up for parking sessions and bookmarks, set up POST bookmark API route
    - Understand how to set up notifications for parking sessions for logged in users (2 days)
    - Outline necessary API endpoints for bookmarking (1 day)

## 2. Progress and issues

What we did and learned:
  - The bulk of what we did was creating parking session and bookmark API routes.
    - Parking session tanStack get and complicated post api as well
  - Updated user table in Supabase, script now runs to match auth.users to public.users


Challenges/things that we had trouble with include:
  - We have to connect the frontend of ticket reporting and the police enforcement sighting to the backend/databases
  - CRLF and LF issues, but now have a better fix and understanding
  - Managing all tasks is difficult, but improving in that aspect

## 3. Plans and goals for the next week

### measurable + time estimate

  - Begin handling enforcement sighting behavior:
    - Look into incorporating SMS tools for notifications (Twilio) (3 days)
    - Requirements gathering and implementation for pin behavior/lifecycle (2 days)
  - Handle the remaining parking session and bookmark logic (removing icon pins and converting between bookmark and parking session pins) (3 days)
  - Make profile page UI 
    - Notification settings (2-3 days)
    - Profile settings (2-3 days)

---

# Individual Contributions/Goals

## 1. Last week's goals

1. Nusha
  - Create option and pop up for Enforcement reporting and ensure it matches the style for the Ticket Reporting (3 days)
  - Add the filter options for the map for the user (2 days)
  - Create Thank you message for reporting your ticket and/or provide information on how to appeal your parking ticket (2 days)
  - Long-term goal: create bookmark interface


2. Abigail:
  - Set up parking sessions API route with Timofei and Leo (3 days) 
  - Figure out how notifications work for logged in users (for parking sessions, but actual sending may be next next week) (2 days)
  - Reroute “log in” button when user logs in to the logged in map page rather than the protected page (dependent on front end creating that page) (2 days)


3. Timofei:
  - Setup parking sessions logic with Abigail (2 days)
  - Write tests for new features, ticket and enforcement reporting, basic alert functionality for parked users in radius (likely without notifications), component displaying (2 days)
  - Work on alerting parked users in radius, set up logic for sending notifications (actually sending may be week after) (3 days)
  - 
4. Ahana:
  - Connect api/post-enforcement route to frontend once it is finished (1 day)
  - Continue to learn TanStack and how we can implement it into our program since we didn’t use it for api routes (2 days)

5. Aya:
  - Look at Supabase user id foreign key, test that the correct map pins show up for logged in user, and finalize the map pin rendering work (1 day)
  - Implement user icon in upper right corner for logged in user (to be the button to access the profile settings page) (2 days)
  - After API routes are in place for parking sessions, implement user parking session functionality (clicking map to park car, clicking parking icon to remove parking) (2 days)
  - 
6. Leo:
  - *Connect auth.users to custom users table (3 days)
  - Give Nusha getUserData for main page “logged in” (1 day)
  - Revise schema once again just in case (1 day)
  - Fix PR (Feature/map pins #30)
  - Data validation for ticket posting (1 day)

## 2. Progress and issues

### What you did, what worked, what you learned, where you had trouble, and where you are stuck

Nusha:
- Worked on allowing the reporting of police enforcement
    - Had to ensure that it was taking note of the location and the time of the sighting
  - Challenges I had with Ahana is figuring out how to do the API call between frontend and backend for the parking enforcement reporting
  - Created the first version of the filtering system
    - Need to fix it

Abigail: 
  - Set up POST api route for parking sessions with Timofei
  - Met with Leo and Timofei and discuss connecting different components and next steps
  - Rerouted log in button to go back to main map page after a user successfully logs in
  - Modified heatmap layer and opacity slider to fit the theme of ticket spy more
  - Started on research for Twilio notifications
  - Challenges: difficulties with understanding details of how my code fits in with Leo’s and Timofei’s

Timofei: 
  - Setup POST api route and full logic for bookmarking and parking sessions. Integrated with Aya’s front-end changes to the logged in popup when map is pressed
  - Began brainstorming tests locally for notifications, bookmarking, parking
  - Began setup for SMS notification system with Twilio for parked users 

Ahana:
  - Looked into fixing minor changes with linter
  - Working with Nusha to figure out how to connect the frontend to the existing route in place 

Aya:
  - After Leo updated the users table in Supabase, the logged-in user map pin work that was unable to be merged last week was able to be merged into dev. 
  - Created map-click popup variant for authenticated users (adds the bookmark and parking button options and applies different styling from the unauthenticated variant). Timofei ended up implementing the second half of this work, which was placing the parking session and bookmarking pins through these buttons, as part of his work this week.
  - Started working on the functionality for removing bookmarks and parking sessions by clicking on the map pin. 
  - Challenges: 
    - logging out of the app locally is a challenge because we have not yet implemented profile setting functionalities; because of this, I needed to be extra careful when verifying that the existing functionality for unauthenticated users did not break when I added the authenticated variant.
    - Still have not implemented the profile icon to be displayed in the upper right corner for logged-in users.

Leo:
  - Fixed Supabase auth.users → public.users (now reflects any auth.users to public.users with script). Manual SQL insert of all past login users to public.users as well
  - Data validation added to getAllParkingSessions hook
  - Organized some TODOs w/ Abigail & Tim. Testing new ways to manage so many changes & tasks


## 3. Plans and goals for the next week

Nusha:
  - Decide and implement when parking enforcement sighting should expire and therefore be removed from the map (2 days)
  - Create Thank you message for reporting your ticket and/or provide information on how to appeal your parking ticket (2 days)
  - Long-term goal: create bookmark interface

Abigail:
  - Set up Twilio notifications with phone numbers (3 days)
  - Change UI to work for phone numbers (1 day)
  - Work on DELETE for parking sessions and for bookmarks (also still need pop up that comes up when ending a session to ask if they want to bookmark that spot) (2 days)

Timofei
  - Make users login with phone number and set up SMS alerting system for parked users (2 days)
  - Write and push tests for notification logic, bookmarking, parking tickets (2 days)
  - Help front-end team with whatever blockers they have (2 days)

Ahana
  - Successfully test that the frontend calls the backend route and has the correct info in the database (2 days)
  - PR into dev all successful changes once done (1 day)

Aya:
  - Handle removing parking sessions/bookmarks by clicking on the map pins (1 day)
  - Handle parking at a bookmarked location and bookmarking a parking spot (2 days)
  - Implement user icon in upper right corner for logged in user (to be the button to access the profile settings page) (2 days)

Leo:
  - *Look into setting up Twilio + phone-numbers (3 days)
  - Data validation for ticket posting (1 day)
  - Unit test for getParkingSession (1 day)
